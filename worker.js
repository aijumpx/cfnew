function _0x2931(){const _0x4f2299=['writable','329502eIELDN','ÂéüÁîüËäÇÁÇπ','toString','message','443','readable','ProxyIP.US.CMLiussss.net','atZIF','vless://00000000-0000-0000-0000-000000000000@127.0.0.1:80?encryption=none&security=none&type=ws&host=error.com&path=%2F%3Fed%3D2048#Error','cloudflare-ip.mofashi.ltd','text/html;\x20charset=utf-8','cloudflare.182682.xyz','cname.xirancdn.us','bestcf.top','JUcyk','https://raw.githubusercontent.com/qwer-search/bestip/refs/heads/main/kejilandbestip.txt','catch','DIRECT_DOMAINS','887464saKVqG','cf.zhetengsha.eu.org','EIiHx','encryption=none&security=tls&sni=','SlqeU','\x22;\x0a\x20\x20\x0a\x20\x20function\x20copyText(text,\x20type)\x20{\x0a\x20\x20\x20\x20navigator.clipboard.writeText(text).then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20msg\x20=\x20document.getElementById(\x27msg\x27);\x0a\x20\x20\x20\x20\x20\x20msg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20msg.innerText\x20=\x20type\x20+\x20\x22\x20Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø\x22;\x0a\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20msg.style.display\x20=\x20\x27none\x27,\x203000);\x0a\x20\x20\x20\x20});\x0a\x20\x20}\x0a\x0a\x20\x20function\x20copyClash()\x20{\x0a\x20\x20\x20\x20const\x20clashUrl\x20=\x20\x22','push','pipeTo','cloudflare.9jy.cc','write','LOMQa','8.889288.xyz','SkPFx','7217861lwWsfz','readyState','close','get','gtzIZ','send','GITHUB_IP_URL','KAQVW','speed.marisalnc.com','BACKUP_IPS','ProxyIP.GB.CMLiussss.net','Upgrade','OoeRs','1.1.1.1','?target=clash&url=\x22\x20+\x20encodeURIComponent(subBase)\x20+\x20\x22&insert=false\x22;\x0a\x20\x20\x20\x20copyText(clashUrl,\x20\x27Clash\x20ËÆ¢ÈòÖ\x27);\x0a\x20\x20}\x0a\x0a\x20\x20function\x20copyVless()\x20{\x0a\x20\x20\x20\x20fetch(subBase).then(r\x20=>\x20r.text()).then(t\x20=>\x20copyText(atob(t),\x20\x27ËäÇÁÇπÈìæÊé•\x27));\x0a\x20\x20}\x0a</script>\x0a</body>\x0a</html>','includes','accept','ProxyIP.HK.CMLiussss.net:443','1102430Wlviqa','releaseLock','12kRWWnb','slice','UUID','LtIPw','115155.xyz','cfip.1323123.xyz','ipv6-placeholder','headers','114UOjQPs','trim','region','forEach','text','ProxyIP.DE.CMLiussss.net','tvDQO','hostname','ProxyIP.HK.CMLiussss.net','websocket','/sub','ProxyIP.JP.CMLiussss.net','text/plain;\x20charset=utf-8','&path=%2F%3Fed%3D2048','VkPdM','8012286xUiesd','Failed\x20to\x20fetch\x20Github\x20IPs','cfip.cfcdn.vip','freeyx.cloudflare88.eu.org','join','eLqOI','split','port','cdn.tzpro.xyz','ProxyIP.KR.CMLiussss.net','cnamefuckxxs.yuchen.icu','xn--b6gac.eu.org','416012KRENkV','336615cqcZKn','ProxyIP.SG.CMLiussss.net','ydeye','data','\x0a<!DOCTYPE\x20html>\x0a<html\x20lang=\x22zh-CN\x22>\x0a<head>\x0a<meta\x20charset=\x22UTF-8\x22>\x0a<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>\x0a<title>VLESS\x20ËÆ¢ÈòÖ</title>\x0a<style>\x0abody{font-family:system-ui,-apple-system,sans-serif;background:#111;color:#eee;display:flex;justify-content:center;align-items:center;height:100vh;margin:0}\x0a.card{background:#222;padding:2rem;border-radius:12px;box-shadow:0\x204px\x2020px\x20rgba(0,0,0,0.5);text-align:center;max-width:400px;width:100%}\x0ah1{color:#4caf50;margin-bottom:1.5rem}\x0a.btn{display:block;width:100%;padding:12px;margin:10px\x200;background:#333;color:#fff;border:1px\x20solid\x20#444;border-radius:6px;cursor:pointer;transition:0.2s}\x0a.btn:hover{background:#4caf50;border-color:#4caf50;color:#000}\x0a.url-box{margin-top:20px;padding:10px;background:#000;border:1px\x20dashed\x20#555;font-family:monospace;font-size:12px;word-break:break-all;display:none;color:#aaa}\x0a</style>\x0a</head>\x0a<body>\x0a<div\x20class=\x22card\x22>\x0a\x20\x20<h1>üöÄ\x20ÊûÅÈÄüËÆ¢ÈòÖ</h1>\x0a\x20\x20<button\x20class=\x22btn\x22\x20onclick=\x22copyClash()\x22>Â§çÂà∂\x20Clash\x20ËÆ¢ÈòÖ</button>\x0a\x20\x20<button\x20class=\x22btn\x22\x20onclick=\x22copyVless()\x22>Â§çÂà∂\x20VLESS\x20ÂéüÁîüÈìæÊé•</button>\x0a\x20\x20<div\x20class=\x22url-box\x22\x20id=\x22msg\x22></div>\x0a</div>\x0a<script>\x0a\x20\x20const\x20subBase\x20=\x20window.location.origin\x20+\x20\x22/','8.8.8.8','match','&fp=randomized&type=ws&host='];_0x2931=function(){return _0x4f2299;};return _0x2931();}const _0x3fba39=_0x2ccc;(function(_0x3bbb3c,_0x20f5ed){const _0x1ea916=_0x2ccc,_0x3f56fe=_0x3bbb3c();while(!![]){try{const _0x128aaf=-parseInt(_0x1ea916(0x170))/0x1+-parseInt(_0x1ea916(0x1ab))/0x2+parseInt(_0x1ea916(0x17a))/0x3*(parseInt(_0x1ea916(0x1ad))/0x4)+parseInt(_0x1ea916(0x171))/0x5*(parseInt(_0x1ea916(0x1b5))/0x6)+parseInt(_0x1ea916(0x199))/0x7+parseInt(_0x1ea916(0x18c))/0x8+-parseInt(_0x1ea916(0x164))/0x9;if(_0x128aaf===_0x20f5ed)break;else _0x3f56fe['push'](_0x3f56fe['shift']());}catch(_0x81ee6c){_0x3f56fe['push'](_0x3f56fe['shift']());}}}(_0x2931,0xda11e));function _0x2ccc(_0xa211,_0x52aa40){_0xa211=_0xa211-0x157;const _0x29319c=_0x2931();let _0x2ccc5f=_0x29319c[_0xa211];return _0x2ccc5f;}import{connect}from'cloudflare:sockets';const CONFIG={'UUID':'ec387f89-bb13-49c2-8d70-a7685c8ebb00','GITHUB_IP_URL':_0x3fba39(0x189),'SUB_API':'https://cf.maiship.com/sub','DIRECT_DOMAINS':[_0x3fba39(0x185),_0x3fba39(0x1a1),_0x3fba39(0x167),_0x3fba39(0x187),'cdn.2020111.xyz',_0x3fba39(0x166),'cf.0sm.com','cf.090227.xyz',_0x3fba39(0x18d),_0x3fba39(0x194),'cf.zerone-cdn.pp.ua',_0x3fba39(0x1b2),_0x3fba39(0x16e),_0x3fba39(0x183),_0x3fba39(0x1b1),_0x3fba39(0x186),'f3058171cad.002404.xyz',_0x3fba39(0x197),_0x3fba39(0x16c),'cf.877771.xyz',_0x3fba39(0x16f)],'BACKUP_IPS':[{'domain':_0x3fba39(0x180),'region':'US','port':0x1bb},{'domain':_0x3fba39(0x172),'region':'SG','port':0x1bb},{'domain':_0x3fba39(0x160),'region':'JP','port':0x1bb},{'domain':'ProxyIP.HK.CMLiussss.net','region':'HK','port':0x1bb},{'domain':_0x3fba39(0x16d),'region':'KR','port':0x1bb},{'domain':_0x3fba39(0x15a),'region':'DE','port':0x1bb},{'domain':_0x3fba39(0x1a3),'region':'GB','port':0x1bb}]};export default{async 'fetch'(request,env,ctx){const _0x38b43e=_0x3fba39,_0x4c3686={'LtIPw':function(_0x4ebf95,_0x59874b){return _0x4ebf95(_0x59874b);},'eLqOI':function(_0x376366,_0x505a51){return _0x376366(_0x505a51);}};try{const _0x3d44a7=new URL(request['url']),_0x92fa49=request[_0x38b43e(0x1b4)][_0x38b43e(0x19c)](_0x38b43e(0x1a4));if(_0x92fa49===_0x38b43e(0x15e)){const _0x3b1d3b=await _0x4c3686[_0x38b43e(0x1b0)](getBestFallback,request);return await handleWsRequest(request,_0x3b1d3b);}const _0x1615f2=_0x3d44a7['pathname'];if(_0x1615f2['includes'](_0x38b43e(0x15f))||_0x1615f2[_0x38b43e(0x1a8)](CONFIG[_0x38b43e(0x1af)]))return await handleSubscription(request,_0x3d44a7);return _0x4c3686[_0x38b43e(0x169)](handleHtmlPage,request);}catch(_0x2d489e){return new Response(_0x2d489e[_0x38b43e(0x17c)](),{'status':0x1f4});}}};async function getBestFallback(request){const _0x42aeef=_0x3fba39,_0x14719a=request['cf']?.['country']||'HK';let _0x4d72d5='HK';const _0x178a69={'US':'US','CA':'US','BR':'US','SG':'SG','MY':'SG','TH':'SG','AU':'SG','JP':'JP','KR':'KR','DE':'DE','FR':'DE','NL':'DE','RU':'DE','GB':'GB','IE':'GB'};if(_0x178a69[_0x14719a])_0x4d72d5=_0x178a69[_0x14719a];const _0x4cac46=CONFIG[_0x42aeef(0x1a2)]['find'](_0x582d02=>_0x582d02[_0x42aeef(0x157)]===_0x4d72d5);if(_0x4cac46)return _0x4cac46['domain']+':'+_0x4cac46[_0x42aeef(0x16b)];return _0x42aeef(0x1aa);}function handleHtmlPage(request){const _0x2278ad=_0x3fba39,_0xc3c4=_0x2278ad(0x175)+CONFIG[_0x2278ad(0x1af)]+_0x2278ad(0x191)+CONFIG['SUB_API']+_0x2278ad(0x1a7);return new Response(_0xc3c4,{'headers':{'Content-Type':_0x2278ad(0x184)}});}async function handleSubscription(request,_0x2bd213){const _0x4a5cb8=_0x3fba39,_0x896c41={'tvDQO':function(_0x51ed10,_0x567e06,_0x7b221d,_0x25e540,_0x2cfd2f){return _0x51ed10(_0x567e06,_0x7b221d,_0x25e540,_0x2cfd2f);},'OoeRs':_0x4a5cb8(0x17b),'LOMQa':function(_0x9cd2d1,_0x3924e0){return _0x9cd2d1(_0x3924e0);}},_0x3d985b=_0x2bd213[_0x4a5cb8(0x15c)];let _0x2c7213=[];_0x2c7213['push'](generateVlessLink(_0x3d985b,0x1bb,_0x896c41[_0x4a5cb8(0x1a5)],_0x3d985b)),CONFIG[_0x4a5cb8(0x18b)][_0x4a5cb8(0x158)](_0xf2a426=>{const _0x412d05=_0x4a5cb8;_0x2c7213[_0x412d05(0x192)](generateVlessLink(_0xf2a426,0x1bb,_0xf2a426,_0x3d985b));});try{const _0x4719c2=await fetch(CONFIG[_0x4a5cb8(0x19f)]);if(_0x4719c2['ok']){const _0x8c31b2=await _0x4719c2[_0x4a5cb8(0x159)](),_0x11ad59=_0x8c31b2[_0x4a5cb8(0x16a)]('\x0a'),_0x34d631=/^([^:]+):(\d+)#(.*)$/;_0x11ad59[_0x4a5cb8(0x158)](_0x2b9b05=>{const _0x2c0970=_0x4a5cb8,_0x2b16e9=_0x2b9b05[_0x2c0970(0x1b6)]()[_0x2c0970(0x177)](_0x34d631);_0x2b16e9&&_0x2c7213[_0x2c0970(0x192)](_0x896c41[_0x2c0970(0x15b)](generateVlessLink,_0x2b16e9[0x1],_0x2b16e9[0x2],_0x2b16e9[0x3],_0x3d985b));});}}catch(_0x317423){console['error'](_0x4a5cb8(0x165));}return _0x2c7213['length']===0x0&&_0x2c7213[_0x4a5cb8(0x192)](_0x4a5cb8(0x182)),new Response(_0x896c41[_0x4a5cb8(0x196)](btoa,_0x2c7213[_0x4a5cb8(0x168)]('\x0a')),{'headers':{'Content-Type':_0x4a5cb8(0x161)}});}function generateVlessLink(_0x55d98c,_0x134b4e,_0x2eeb86,_0x2ce448){const _0x655ead=_0x3fba39,_0x3a4b7b={'jHZIr':function(_0x376521,_0x63728d){return _0x376521(_0x63728d);}},_0xe8a417=_0x55d98c[_0x655ead(0x1a8)](':')?'['+_0x55d98c+']':_0x55d98c,_0x40d236=_0x655ead(0x18f)+_0x2ce448+_0x655ead(0x178)+_0x2ce448+_0x655ead(0x162);return'vless://'+CONFIG[_0x655ead(0x1af)]+'@'+_0xe8a417+':'+_0x134b4e+'?'+_0x40d236+'#'+_0x3a4b7b['jHZIr'](encodeURIComponent,_0x2eeb86);}async function handleWsRequest(request,_0x49b004){const _0x5a845f=_0x3fba39,_0x5b6412={'ydeye':function(_0x50052b,_0x180fa8){return _0x50052b+_0x180fa8;},'EIiHx':function(_0x3e714f,_0x4e67a8){return _0x3e714f|_0x4e67a8;},'NmxWb':function(_0x8e0484,_0x434563){return _0x8e0484<<_0x434563;},'gtzIZ':function(_0x465cc9,_0x4eaf10){return _0x465cc9===_0x4eaf10;},'VkPdM':_0x5a845f(0x1b3),'JUcyk':function(_0x145cb7,_0x279840){return _0x145cb7||_0x279840;},'KAQVW':_0x5a845f(0x1a6),'BjQIK':function(_0x49e41b,_0x456376){return _0x49e41b(_0x456376);},'SkPFx':_0x5a845f(0x15d),'SlqeU':function(_0x1e21ed,_0x536800,_0x256b8b){return _0x1e21ed(_0x536800,_0x256b8b);},'atZIF':_0x5a845f(0x17d)},{0x0:_0x460999,0x1:_0x105e93}=new WebSocketPair();_0x105e93[_0x5a845f(0x1a9)]();let _0x5665b1='',_0x4f3232=0x0,_0x345b1e=![],_0x543872=null;const _0x17c7c3=new ReadableStream({'start'(_0x5076e6){const _0x36c7e9=_0x5a845f;_0x105e93['addEventListener'](_0x5b6412[_0x36c7e9(0x181)],async _0x545a85=>{const _0x2687e8=_0x36c7e9,_0x12c9cc=_0x545a85[_0x2687e8(0x174)];if(_0x345b1e&&_0x543872){const _0x20239b=_0x543872[_0x2687e8(0x179)]['getWriter']();await _0x20239b[_0x2687e8(0x195)](_0x12c9cc),_0x20239b[_0x2687e8(0x1ac)]();return;}const _0xf58ded=new Uint8Array(_0x12c9cc);try{const _0x17dd8e=_0xf58ded[0x0],_0x594ed6=_0xf58ded[0x11],_0x2859e1=_0xf58ded[_0x5b6412[_0x2687e8(0x173)](0x12,_0x594ed6)],_0x5a50d9=0x13+_0x594ed6,_0x1030be=_0x5b6412[_0x2687e8(0x18e)](_0x5b6412['NmxWb'](_0xf58ded[_0x5a50d9],0x8),_0xf58ded[_0x5a50d9+0x1]),_0x1c55bc=_0xf58ded[_0x5a50d9+0x2];let _0x546e47=_0x5a50d9+0x3,_0x2eabed='';if(_0x5b6412[_0x2687e8(0x19d)](_0x1c55bc,0x1))_0x2eabed=_0xf58ded[_0x2687e8(0x1ae)](_0x546e47,_0x546e47+0x4)['join']('.'),_0x546e47+=0x4;else{if(_0x1c55bc===0x2){const _0x3529df=_0xf58ded[_0x546e47];_0x2eabed=new TextDecoder()['decode'](_0xf58ded['slice'](_0x546e47+0x1,_0x5b6412[_0x2687e8(0x173)](_0x546e47+0x1,_0x3529df))),_0x546e47+=0x1+_0x3529df;}else _0x5b6412['gtzIZ'](_0x1c55bc,0x3)&&(_0x2eabed=_0x5b6412[_0x2687e8(0x163)],_0x546e47+=0x10);}const _0x226fd7=new Uint8Array([_0x17dd8e,0x0]),_0x371262=_0xf58ded[_0x2687e8(0x1ae)](_0x546e47);_0x2859e1===0x2?(_0x2eabed=_0x2687e8(0x176),_0x4f3232=0x35):(_0x5665b1=_0x2eabed,_0x4f3232=_0x1030be);const _0x19e435=_0x5b6412[_0x2687e8(0x188)](_0x5665b1,_0x5b6412[_0x2687e8(0x1a0)]),_0x260056=_0x4f3232||0x50;try{_0x543872=_0x5b6412['BjQIK'](connect,{'hostname':_0x19e435,'port':_0x260056});}catch{const _0x3bdea3=_0x49b004[_0x2687e8(0x16a)](':'),_0x32ddd9=_0x3bdea3[0x0]||_0x5b6412[_0x2687e8(0x198)],_0x2a0a49=_0x3bdea3[0x1]||_0x2687e8(0x17e);_0x543872=connect({'hostname':_0x32ddd9,'port':_0x5b6412[_0x2687e8(0x190)](parseInt,_0x2a0a49,0xa)});}_0x345b1e=!![];const _0x514c2=_0x543872[_0x2687e8(0x179)]['getWriter']();await _0x514c2[_0x2687e8(0x195)](_0x371262),_0x514c2['releaseLock'](),_0x543872[_0x2687e8(0x17f)][_0x2687e8(0x193)](new WritableStream({async 'write'(_0x75ce58){const _0x2f039d=_0x2687e8;if(_0x105e93[_0x2f039d(0x19a)]===0x1)_0x105e93[_0x2f039d(0x19e)](_0x75ce58);}}))[_0x2687e8(0x18a)](()=>{}),_0x105e93['send'](_0x226fd7);}catch(_0x31c00d){console['log'](_0x31c00d),_0x105e93[_0x2687e8(0x19b)]();}});}});return new Response(null,{'status':0x65,'webSocket':_0x460999});}