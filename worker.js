const L=b;function a(){const a0=['country','cf.zerone-cdn.pp.ua','?target=clash&url=\x22\x20+\x20encodeURIComponent(subBase)\x20+\x20\x22&insert=false\x22;\x0a\x20\x20\x20\x20copyText(clashUrl,\x20\x27Clash\x20è®¢é˜…\x27);\x0a\x20\x20}\x0a\x0a\x20\x20function\x20copyVless()\x20{\x0a\x20\x20\x20\x20fetch(subBase).then(r\x20=>\x20r.text()).then(t\x20=>\x20copyText(atob(t),\x20\x27èŠ‚ç‚¹é“¾æ¥\x27));\x0a\x20\x20}\x0a</script>\x0a</body>\x0a</html>','bTPIS','cname.xirancdn.us','1.1.1.1','cnamefuckxxs.yuchen.icu','OitJW','accept','\x22;\x0a\x20\x20\x0a\x20\x20function\x20copyText(text,\x20type)\x20{\x0a\x20\x20\x20\x20navigator.clipboard.writeText(text).then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20msg\x20=\x20document.getElementById(\x27msg\x27);\x0a\x20\x20\x20\x20\x20\x20msg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20msg.innerText\x20=\x20type\x20+\x20\x22\x20å·²å¤åˆ¶åˆ°å‰ªè´´æ¿\x22;\x0a\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20msg.style.display\x20=\x20\x27none\x27,\x203000);\x0a\x20\x20\x20\x20});\x0a\x20\x20}\x0a\x0a\x20\x20function\x20copyClash()\x20{\x0a\x20\x20\x20\x20const\x20clashUrl\x20=\x20\x22','sBcDn','GITHUB_IP_URL','find','message','zIGvs','catch','port','writable','cfip.1323123.xyz','text/html;\x20charset=utf-8','pipeTo','GkftK','\x0a<!DOCTYPE\x20html>\x0a<html\x20lang=\x22zh-CN\x22>\x0a<head>\x0a<meta\x20charset=\x22UTF-8\x22>\x0a<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>\x0a<title>VLESS\x20è®¢é˜…</title>\x0a<style>\x0abody{font-family:system-ui,-apple-system,sans-serif;background:#111;color:#eee;display:flex;justify-content:center;align-items:center;height:100vh;margin:0}\x0a.card{background:#222;padding:2rem;border-radius:12px;box-shadow:0\x204px\x2020px\x20rgba(0,0,0,0.5);text-align:center;max-width:400px;width:100%}\x0ah1{color:#4caf50;margin-bottom:1.5rem}\x0a.btn{display:block;width:100%;padding:12px;margin:10px\x200;background:#333;color:#fff;border:1px\x20solid\x20#444;border-radius:6px;cursor:pointer;transition:0.2s}\x0a.btn:hover{background:#4caf50;border-color:#4caf50;color:#000}\x0a.url-box{margin-top:20px;padding:10px;background:#000;border:1px\x20dashed\x20#555;font-family:monospace;font-size:12px;word-break:break-all;display:none;color:#aaa}\x0a</style>\x0a</head>\x0a<body>\x0a<div\x20class=\x22card\x22>\x0a\x20\x20<h1>ğŸš€\x20æé€Ÿè®¢é˜…</h1>\x0a\x20\x20<button\x20class=\x22btn\x22\x20onclick=\x22copyClash()\x22>å¤åˆ¶\x20Clash\x20è®¢é˜…</button>\x0a\x20\x20<button\x20class=\x22btn\x22\x20onclick=\x22copyVless()\x22>å¤åˆ¶\x20VLESS\x20åŸç”Ÿé“¾æ¥</button>\x0a\x20\x20<div\x20class=\x22url-box\x22\x20id=\x22msg\x22></div>\x0a</div>\x0a<script>\x0a\x20\x20const\x20subBase\x20=\x20window.location.origin\x20+\x20\x22/','join','cdn.2020111.xyz','https://raw.githubusercontent.com/qwer-search/bestip/refs/heads/main/kejilandbestip.txt','ProxyIP.HK.CMLiussss.net','length','hostname','443','WCSpP','addEventListener','40cNrbPo','releaseLock','ProxyIP.KR.CMLiussss.net','websocket','split','ProxyIP.HK.CMLiussss.net:443','domain','954080jRuiLb','log','8.8.8.8','OWFRU','åŸç”ŸèŠ‚ç‚¹','8.889288.xyz','JoIYM','UUID','f3058171cad.002404.xyz','TWrJP','cloudflare-ip.mofashi.ltd','push','cf.090227.xyz','gwdHz','region','trim','HQWSw','SUB_API','ipv6-placeholder','BACKUP_IPS','match','&fp=randomized&type=ws&host=','vless://','includes','WfGdk','4558572hYBPqV','ec387f89-bb13-49c2-8d70-a7685c8ebb00','ProxyIP.JP.CMLiussss.net','error','XGVqP','918908lzSyfy','freeyx.cloudflare88.eu.org','1310793btlpua','url','Upgrade','wWArC','data','56144PzpHoe','115155.xyz','forEach','CsWpJ','IPVfN','cfip.cfcdn.vip','text','cf.0sm.com','send','ProxyIP.SG.CMLiussss.net','get','ProxyIP.GB.CMLiussss.net','headers','ProxyIP.US.CMLiussss.net','readyState','getWriter','28NuKXBI','cloudflare.9jy.cc','close','slice','566436DxLZRL','encryption=none&security=tls&sni=','bestcf.top','456696JPfUrM','9HGiUBD','text/plain;\x20charset=utf-8','3410RXfCcW','vless://00000000-0000-0000-0000-000000000000@127.0.0.1:80?encryption=none&security=none&type=ws&host=error.com&path=%2F%3Fed%3D2048#Error'];a=function(){return a0;};return a();}(function(c,d){const K=b,e=c();while(!![]){try{const f=parseInt(K(0x1e4))/0x1+parseInt(K(0x1e2))/0x2*(-parseInt(K(0x201))/0x3)+parseInt(K(0x200))/0x4*(-parseInt(K(0x1bd))/0x5)+parseInt(K(0x1fd))/0x6*(parseInt(K(0x1f9))/0x7)+parseInt(K(0x1c4))/0x8+-parseInt(K(0x1dd))/0x9+-parseInt(K(0x203))/0xa*(-parseInt(K(0x1e9))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xb7137));import{connect}from'cloudflare:sockets';const CONFIG={'UUID':L(0x1de),'GITHUB_IP_URL':L(0x1b6),'SUB_API':'https://cf.maiship.com/sub','DIRECT_DOMAINS':['cloudflare.182682.xyz','speed.marisalnc.com',L(0x1e3),L(0x1ff),L(0x1b5),L(0x1ee),L(0x1f0),L(0x1d0),'cf.zhetengsha.eu.org',L(0x1fa),L(0x206),L(0x1af),L(0x20b),L(0x1ce),L(0x1ea),L(0x209),L(0x1cc),L(0x1c9),'cdn.tzpro.xyz','cf.877771.xyz','xn--b6gac.eu.org'],'BACKUP_IPS':[{'domain':L(0x1f6),'region':'US','port':0x1bb},{'domain':L(0x1f2),'region':'SG','port':0x1bb},{'domain':L(0x1df),'region':'JP','port':0x1bb},{'domain':L(0x1b7),'region':'HK','port':0x1bb},{'domain':L(0x1bf),'region':'KR','port':0x1bb},{'domain':'ProxyIP.DE.CMLiussss.net','region':'DE','port':0x1bb},{'domain':L(0x1f4),'region':'GB','port':0x1bb}]};export default{async 'fetch'(c,d,e){const M=L,f={'wWArC':'/sub','bTPIS':function(g,h,i){return g(h,i);},'lEbEQ':function(g,h){return g(h);}};try{const g=new URL(c[M(0x1e5)]),h=c[M(0x1f5)][M(0x1f3)](M(0x1e6));if(h===M(0x1c0)){const j=await getBestFallback(c);return await handleWsRequest(c,j);}const i=g['pathname'];if(i[M(0x1db)](f[M(0x1e7)])||i[M(0x1db)](CONFIG[M(0x1cb)]))return await f[M(0x208)](handleSubscription,c,g);return f['lEbEQ'](handleHtmlPage,c);}catch(k){return new Response(k['toString'](),{'status':0x1f4});}}};async function getBestFallback(c){const N=L,d=c['cf']?.[N(0x205)]||'HK';let e='HK';const f={'US':'US','CA':'US','BR':'US','SG':'SG','MY':'SG','TH':'SG','AU':'SG','JP':'JP','KR':'KR','DE':'DE','FR':'DE','NL':'DE','RU':'DE','GB':'GB','IE':'GB'};if(f[d])e=f[d];const g=CONFIG[N(0x1d7)][N(0x211)](h=>h[N(0x1d2)]===e);if(g)return g[N(0x1c3)]+':'+g[N(0x215)];return N(0x1c2);}function handleHtmlPage(c){const O=L,d=O(0x1b3)+CONFIG[O(0x1cb)]+O(0x20e)+CONFIG[O(0x1d5)]+O(0x207);return new Response(d,{'headers':{'Content-Type':O(0x1b0)}});}async function handleSubscription(c,d){const P=L,f={'sBcDn':function(i,j){return i(j);}},g=d[P(0x1b9)];let h=[];h[P(0x1cf)](generateVlessLink(g,0x1bb,P(0x1c8),g)),CONFIG['DIRECT_DOMAINS']['forEach'](i=>{const Q=P;h[Q(0x1cf)](generateVlessLink(i,0x1bb,i,g));});try{const i=await f[P(0x20f)](fetch,CONFIG[P(0x210)]);if(i['ok']){const j=await i[P(0x1ef)](),k=j[P(0x1c1)]('\x0a'),l=/^([^:]+):(\d+)#(.*)$/;k[P(0x1eb)](m=>{const R=P,n=m[R(0x1d3)]()[R(0x1d8)](l);n&&h['push'](generateVlessLink(n[0x1],n[0x2],n[0x3],g));});}}catch(m){console[P(0x1e0)]('Failed\x20to\x20fetch\x20Github\x20IPs');}return h[P(0x1b8)]===0x0&&h['push'](P(0x204)),new Response(btoa(h[P(0x1b4)]('\x0a')),{'headers':{'Content-Type':P(0x202)}});}function b(c,d){c=c-0x1af;const e=a();let f=e[c];return f;}function generateVlessLink(c,d,e,f){const S=L,g=c['includes'](':')?'['+c+']':c,h=S(0x1fe)+f+S(0x1d9)+f+'&path=%2F%3Fed%3D2048';return S(0x1da)+CONFIG[S(0x1cb)]+'@'+g+':'+d+'?'+h+'#'+encodeURIComponent(e);}async function handleWsRequest(c,d){const T=L,e={'yDqhJ':function(m,n){return m<<n;},'OitJW':function(m,n){return m+n;},'GkftK':function(m,n){return m+n;},'sUHKv':T(0x20a),'WfGdk':function(m,n){return m||n;},'vGYbz':function(m,n){return m(n);},'XGVqP':T(0x1b7)},{0x0:f,0x1:g}=new WebSocketPair();g[T(0x20d)]();let h='',i=0x0,j=![],k=null;const l=new ReadableStream({'start'(m){const X=T,n={'WCSpP':function(o,p){return e['yDqhJ'](o,p);},'HQWSw':function(o,p){const U=b;return e[U(0x20c)](o,p);},'CsWpJ':function(o,p){return o+p;},'IPVfN':function(o,p){return o===p;},'JoIYM':function(o,p){return o+p;},'OWFRU':function(o,p){const V=b;return e[V(0x1b2)](o,p);},'TWrJP':function(o,p){return o===p;},'gwdHz':e['sUHKv'],'zIGvs':function(o,p){const W=b;return e[W(0x1dc)](o,p);},'hUvjJ':function(o,p){return e['vGYbz'](o,p);},'KslzQ':e[X(0x1e1)]};g[X(0x1bc)](X(0x212),async o=>{const Y=X,p=o[Y(0x1e8)];if(j&&k){const r=k[Y(0x216)][Y(0x1f8)]();await r['write'](p),r['releaseLock']();return;}const q=new Uint8Array(p);try{const s=q[0x0],t=q[0x11],u=q[0x12+t],v=0x13+t,w=n[Y(0x1bb)](q[v],0x8)|q[v+0x1],x=q[n[Y(0x1d4)](v,0x2)];let y=v+0x3,z='';if(x===0x1)z=q[Y(0x1fc)](y,n[Y(0x1ec)](y,0x4))['join']('.'),y+=0x4;else{if(n[Y(0x1ed)](x,0x2)){const F=q[y];z=new TextDecoder()['decode'](q[Y(0x1fc)](n['HQWSw'](y,0x1),n[Y(0x1ca)](y+0x1,F))),y+=n[Y(0x1c7)](0x1,F);}else x===0x3&&(z=Y(0x1d6),y+=0x10);}const A=new Uint8Array([s,0x0]),B=q[Y(0x1fc)](y);n[Y(0x1cd)](u,0x2)?(z=Y(0x1c6),i=0x35):(h=z,i=w);const C=h||n[Y(0x1d1)],D=n[Y(0x213)](i,0x50);try{k=n['hUvjJ'](connect,{'hostname':C,'port':D});}catch{const G=d[Y(0x1c1)](':'),H=G[0x0]||n['KslzQ'],I=G[0x1]||Y(0x1ba);k=connect({'hostname':H,'port':parseInt(I,0xa)});}j=!![];const E=k[Y(0x216)]['getWriter']();await E['write'](B),E[Y(0x1be)](),k['readable'][Y(0x1b1)](new WritableStream({async 'write'(J){const Z=Y;if(g[Z(0x1f7)]===0x1)g[Z(0x1f1)](J);}}))[Y(0x214)](()=>{}),g[Y(0x1f1)](A);}catch(J){console[Y(0x1c5)](J),g[Y(0x1fb)]();}});}});return new Response(null,{'status':0x65,'webSocket':f});}